<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metabolic Flexibility Check | ‡πÄ‡∏ä‡πá‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ú‡∏≤‡∏ú‡∏•‡∏≤‡∏ç</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600;800&display=swap" rel="stylesheet">

    <!-- Supabase JS -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <style>
        body { font-family: 'Kanit', sans-serif; }
        
        /* Light Mode Glass Panel */
        .glass-panel {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.1);
        }

        .animate-fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Toast Notification */
        #toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 50;
        }
        .toast {
            transform: translateX(100%);
            transition: transform 0.3s ease-in-out;
        }
        .toast.show {
            transform: translateX(0);
        }

        /* Shimmer Effect for Button */
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 min-h-screen overflow-x-hidden relative selection:bg-cyan-200 selection:text-cyan-900">

    <!-- Toast Container -->
    <div id="toast-container"></div>

    <!-- Background Effects (Soft & Light) -->
    <div class="fixed top-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-200/40 rounded-full blur-[100px] pointer-events-none mix-blend-multiply"></div>
    <div class="fixed bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-cyan-200/40 rounded-full blur-[100px] pointer-events-none mix-blend-multiply delay-1000"></div>

    <!-- Main Container -->
    <div id="app" class="relative z-10 container mx-auto px-4 py-8 max-w-md min-h-screen flex flex-col justify-center">
        
        <!-- STEP 1: WELCOME -->
        <div id="step-welcome" class="text-center space-y-8 animate-fade-in">
            <div class="inline-block p-5 rounded-3xl bg-white shadow-xl shadow-cyan-100 mb-2 border border-slate-100">
                <i class="fa-solid fa-heart-pulse text-5xl text-cyan-500"></i>
            </div>
            
            <h1 class="text-5xl font-extrabold text-slate-800 leading-tight pb-2 tracking-tight">
                Metabolic<br>
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-cyan-500 to-blue-600">Check</span>
            </h1>
            
            <div class="space-y-4">
                <p class="text-xl font-bold text-slate-700">
                    ‡πÄ‡∏ä‡πá‡∏Å‡∏î‡πà‡∏ß‡∏ô: ‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡∏Ñ‡∏∏‡∏ì <span class="text-rose-500 underline decoration-rose-200 decoration-4 underline-offset-4">"‡∏•‡πá‡∏≠‡∏Å"</span> ‡∏Å‡∏≤‡∏£‡πÄ‡∏ú‡∏≤‡∏ú‡∏•‡∏≤‡∏ç‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
                </p>
                <p class="text-slate-500 font-normal text-base px-2">
                    ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° 5 ‡∏Ç‡πâ‡∏≠ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏ "‡∏≠‡πâ‡∏ß‡∏ô‡∏á‡πà‡∏≤‡∏¢ ‡∏ú‡∏≠‡∏°‡∏¢‡∏≤‡∏Å" ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ Metabolic Flexibility ‡∏ü‡∏£‡∏µ
                </p>
            </div>

            <button onclick="startQuiz()" class="group relative w-full py-4 px-6 bg-slate-900 text-white rounded-2xl font-bold text-lg overflow-hidden shadow-xl shadow-slate-200 hover:shadow-2xl hover:shadow-cyan-100 transition-all duration-300 transform hover:-translate-y-1">
                <div class="absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-slate-700 to-transparent -translate-x-full group-hover:animate-[shimmer_1.5s_infinite]"></div>
                <span class="flex items-center justify-center gap-2 relative z-10">
                    ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö <i class="fa-solid fa-arrow-right group-hover:translate-x-1 transition-transform text-cyan-400"></i>
                </span>
            </button>
            <p class="text-xs text-slate-400 mt-4 font-medium"><i class="fa-regular fa-clock mr-1"></i> ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏û‡∏µ‡∏¢‡∏á 1 ‡∏ô‡∏≤‡∏ó‡∏µ ‚Ä¢ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢</p>
        </div>

        <!-- STEP 2: QUIZ -->
        <div id="step-quiz" class="hidden space-y-6 animate-fade-in">
            <!-- Progress Bar -->
            <div class="w-full bg-slate-200 h-2.5 rounded-full overflow-hidden">
                <div id="progress-bar" class="h-full bg-gradient-to-r from-cyan-400 to-blue-500 transition-all duration-500 ease-out shadow-[0_0_10px_rgba(34,211,238,0.5)]" style="width: 0%"></div>
            </div>
            
            <div class="flex justify-between text-xs text-slate-400 font-bold tracking-widest uppercase">
                <span id="question-count">Question 1 of 5</span>
                <span>Metabolic Test</span>
            </div>

            <!-- Question Card -->
            <div class="glass-panel p-8 rounded-3xl min-h-[280px] flex flex-col justify-center items-center text-center space-y-6 relative overflow-hidden">
                <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-cyan-400 to-blue-500"></div>
                <div id="q-icon" class="p-4 bg-slate-50 rounded-full text-4xl shadow-inner">
                    <!-- Icon inject via JS -->
                </div>
                <h2 id="q-text" class="text-xl md:text-2xl font-bold text-slate-800 leading-relaxed">
                    <!-- Question inject via JS -->
                </h2>
            </div>

            <!-- Options -->
            <div id="options-container" class="grid gap-3">
                <!-- Options inject via JS -->
            </div>
        </div>

        <!-- STEP 3: ANALYZING -->
        <div id="step-analyzing" class="hidden text-center space-y-8 animate-fade-in flex-col items-center justify-center h-[60vh]">
            <div class="relative">
                <div class="w-24 h-24 border-4 border-slate-100 rounded-full"></div>
                <div class="absolute top-0 left-0 w-24 h-24 border-t-4 border-cyan-500 rounded-full animate-spin"></div>
                <i class="fa-solid fa-microchip absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-cyan-500 text-2xl animate-pulse"></i>
            </div>
            
            <div class="space-y-2">
                <h2 class="text-2xl font-bold text-slate-800">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ú‡∏≤‡∏ú‡∏•‡∏≤‡∏ç...</h2>
                <p class="text-slate-500 text-sm typing-effect font-medium">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏≠‡∏¥‡∏ô‡∏ã‡∏π‡∏•‡∏¥‡∏ô...</p>
            </div>

            <div class="w-full max-w-xs space-y-4 bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
               <div class="flex items-center gap-3 text-sm text-slate-600 font-medium"><i class="fa-solid fa-circle-check text-green-500"></i> ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°</div>
               <div class="flex items-center gap-3 text-sm text-slate-600 font-medium"><i class="fa-solid fa-circle-check text-green-500"></i> ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô</div>
               <div class="flex items-center gap-3 text-sm text-slate-600 font-medium"><i class="fa-solid fa-circle-check text-green-500"></i> ‡∏à‡∏±‡∏î‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</div>
            </div>
        </div>

        <!-- STEP 4: LEAD CAPTURE -->
        <div id="step-capture" class="hidden space-y-6 animate-fade-in">
            <div class="glass-panel p-8 rounded-3xl text-center space-y-6">
                <div class="w-20 h-20 bg-green-50 rounded-full flex items-center justify-center mx-auto border-4 border-white shadow-lg">
                    <i class="fa-solid fa-clipboard-check text-3xl text-green-500"></i>
                </div>
                
                <div>
                    <h2 class="text-2xl font-bold text-slate-800 mb-2">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ú‡∏•‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô!</h2>
                    <p class="text-slate-500">
                        ‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏£‡∏∞‡∏î‡∏±‡∏ö <span class="text-cyan-600 font-bold">Metabolic Flexibility</span> ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß
                    </p>
                </div>

                <div class="bg-blue-50/50 p-5 rounded-2xl border border-blue-100 text-left">
                    <p class="text-xs text-blue-400 mb-3 font-bold uppercase tracking-wide">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö:</p>
                    <ul class="text-sm space-y-3 text-slate-700 font-medium">
                        <li class="flex gap-3 items-center"><div class="w-5 h-5 rounded-full bg-white flex items-center justify-center text-cyan-500 shadow-sm"><i class="fa-solid fa-check text-xs"></i></div> ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ú‡∏≤‡∏ú‡∏•‡∏≤‡∏ç</li>
                        <li class="flex gap-3 items-center"><div class="w-5 h-5 rounded-full bg-white flex items-center justify-center text-cyan-500 shadow-sm"><i class="fa-solid fa-check text-xs"></i></div> ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏≠‡πâ‡∏ß‡∏ô‡∏á‡πà‡∏≤‡∏¢</li>
                        <li class="flex gap-3 items-center text-cyan-700 font-bold"><div class="w-5 h-5 rounded-full bg-cyan-100 flex items-center justify-center text-cyan-600 shadow-sm"><i class="fa-solid fa-gift text-xs"></i></div> ‡∏ü‡∏£‡∏µ! ‡∏™‡∏π‡∏ï‡∏£ Reset ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ú‡∏≤‡∏ú‡∏•‡∏≤‡∏ç (Phase 1)</li>
                    </ul>
                </div>

                <form id="lead-form" class="space-y-4">
                    <div class="relative">
                        <i class="fa-regular fa-user absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"></i>
                        <input type="text" id="input-name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì" required
                            class="w-full p-4 pl-12 bg-white border-2 border-slate-100 rounded-xl text-slate-800 placeholder-slate-400 focus:outline-none focus:border-cyan-400 focus:ring-4 focus:ring-cyan-100 transition-all font-medium">
                    </div>
                    
                    <div class="relative">
                        <i class="fa-regular fa-envelope absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400"></i>
                        <input type="text" id="input-contact" placeholder="Email ‡∏´‡∏£‡∏∑‡∏≠ Line ID (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå)" required
                            class="w-full p-4 pl-12 bg-white border-2 border-slate-100 rounded-xl text-slate-800 placeholder-slate-400 focus:outline-none focus:border-cyan-400 focus:ring-4 focus:ring-cyan-100 transition-all font-medium">
                    </div>
                    
                    <button type="submit" id="submit-btn"
                        class="w-full py-4 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-xl font-bold text-lg text-white shadow-lg shadow-cyan-200 hover:shadow-cyan-300 hover:scale-[1.02] transition-all flex justify-center items-center gap-2">
                        <span>‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå & ‡∏£‡∏±‡∏ö‡∏™‡∏π‡∏ï‡∏£‡∏ü‡∏£‡∏µ</span>
                        <i class="fa-solid fa-lock text-sm opacity-80"></i>
                    </button>
                </form>
                <div class="flex justify-center items-center gap-2 text-[10px] text-slate-400 font-medium">
                    <i class="fa-solid fa-shield-halved"></i> ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ 100% ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢
                </div>
            </div>
        </div>

        <!-- STEP 5: RESULT -->
        <div id="step-result" class="hidden space-y-6 animate-fade-in pb-12">
            <!-- Score Card -->
            <div id="result-card-bg" class="rounded-3xl shadow-xl overflow-hidden relative text-white">
                <div class="bg-gradient-to-br from-slate-800 to-slate-900 p-8 text-center space-y-4 h-full relative z-10">
                    <div class="absolute top-0 right-0 p-6 opacity-10"><i class="fa-solid fa-quote-right text-6xl"></i></div>
                    
                    <div class="inline-block px-3 py-1 rounded-full bg-white/10 backdrop-blur-sm border border-white/20">
                        <p id="result-badge-color" class="text-xs font-bold tracking-widest uppercase">
                            STATUS
                        </p>
                    </div>
                    
                    <h2 id="result-title" class="text-3xl font-extrabold leading-tight">...</h2>
                    
                    <!-- Score Bar Container -->
                    <div class="w-full bg-black/20 rounded-full h-4 mt-4 p-1 backdrop-blur-sm">
                        <div id="result-score-bar" class="h-full rounded-full transition-all duration-1000 shadow-lg relative" style="width: 0%">
                             <div class="absolute right-0 top-1/2 transform translate-x-1/2 -translate-y-1/2 w-4 h-4 bg-white border-2 border-slate-200 rounded-full shadow"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Description -->
            <div class="space-y-4">
                <h3 class="text-lg font-bold text-slate-800 pl-3 border-l-4 border-cyan-500">‡∏ú‡∏•‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå:</h3>
                <div id="result-desc-bg" class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                    <p id="result-desc" class="text-slate-600 leading-relaxed font-medium">
                        ...
                    </p>
                </div>
            </div>

            <!-- Unlock Content -->
            <div class="bg-gradient-to-br from-slate-50 to-white border border-slate-200 rounded-3xl p-6 space-y-5 relative overflow-hidden group shadow-lg">
                
                <div class="flex items-center gap-3 mb-2 relative z-10 border-b border-slate-100 pb-4">
                    <div class="p-3 bg-cyan-100 rounded-xl text-cyan-600">
                        <i class="fa-solid fa-unlock-keyhole text-xl"></i>
                    </div>
                    <div>
                        <p class="text-xs font-bold text-cyan-600 uppercase tracking-wide">Action Plan</p>
                        <h3 class="text-lg font-bold text-slate-800">‡∏™‡∏π‡∏ï‡∏£‡∏•‡∏±‡∏ö: Reset Phase (3 ‡∏ß‡∏±‡∏ô‡πÅ‡∏£‡∏Å)</h3>
                    </div>
                </div>

                <div id="locked-content" class="text-center py-8 relative z-10">
                     <p class="text-slate-500 mb-4 text-sm">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏•‡πá‡∏≠‡∏Å‡πÑ‡∏ß‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì</p>
                     <button onclick="revealTips()" class="px-8 py-3 bg-slate-800 text-white rounded-xl font-bold hover:bg-slate-700 hover:shadow-lg transition-all transform hover:-translate-y-1 active:translate-y-0">
                        <i class="fa-solid fa-fingerprint mr-2 text-cyan-400"></i> ‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡∏π‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ
                     </button>
                </div>

                <div id="unlocked-content" class="hidden space-y-4 animate-fade-in relative z-10">
                    <div class="p-5 bg-white rounded-2xl border-l-4 border-rose-400 shadow-sm">
                        <h4 class="font-bold text-slate-800 mb-1 text-lg flex items-center gap-2"><i class="fa-solid fa-ban text-rose-400 text-sm"></i> 1. Reset ‡∏≠‡∏¥‡∏ô‡∏ã‡∏π‡∏•‡∏¥‡∏ô (Insulin Break)</h4>
                        <p class="text-sm text-slate-600">‡∏á‡∏î‡πÅ‡∏õ‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏• 100% ‡πÉ‡∏ô‡∏°‡∏∑‡πâ‡∏≠‡πÄ‡∏ä‡πâ‡∏≤ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡πÉ‡∏´‡πâ‡∏î‡∏∂‡∏á‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡πÄ‡∏Å‡πà‡∏≤‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏ï‡∏∑‡πà‡∏ô‡∏ô‡∏≠‡∏ô (Switch Fuel Source)</p>
                    </div>
                    <div class="p-5 bg-white rounded-2xl border-l-4 border-amber-400 shadow-sm">
                        <h4 class="font-bold text-slate-800 mb-1 text-lg flex items-center gap-2"><i class="fa-solid fa-traffic-light text-amber-400 text-sm"></i> 2. ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° Randle Effect</h4>
                        <p class="text-sm text-slate-600">‡∏≠‡∏¢‡πà‡∏≤‡∏Å‡∏¥‡∏ô‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏™‡∏π‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏™‡∏π‡∏á ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ú‡∏≤‡∏ú‡∏•‡∏≤‡∏ç‡∏ï‡∏¥‡∏î‡∏Ç‡∏±‡∏î (Traffic Jam) ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏¥‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÉ‡∏î‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÉ‡∏ô‡∏°‡∏∑‡πâ‡∏≠‡∏ô‡∏±‡πâ‡∏ô</p>
                    </div>
                    <div class="p-5 bg-white rounded-2xl border-l-4 border-cyan-400 shadow-sm">
                        <h4 class="font-bold text-slate-800 mb-1 text-lg flex items-center gap-2"><i class="fa-solid fa-fire text-cyan-400 text-sm"></i> 3. ‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡πâ‡∏ô PPARs</h4>
                        <p class="text-sm text-slate-600">‡∏ó‡∏≤‡∏ô‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏î‡∏µ ‡πÄ‡∏ä‡πà‡∏ô ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏°‡∏∞‡∏Å‡∏≠‡∏Å ‡∏´‡∏£‡∏∑‡∏≠ ‡∏≠‡∏∞‡πÇ‡∏ß‡∏Ñ‡∏≤‡πÇ‡∏î ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏ã‡∏•‡∏•‡πå‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ú‡∏≤‡∏ú‡∏•‡∏≤‡∏ç‡πÑ‡∏Ç‡∏°‡∏±‡∏ô</p>
                    </div>
                    
                    <div class="pt-6 text-center">
                        <p class="text-slate-500 text-sm mb-3 font-medium">‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î?</p>
                        <a href="https://lin.ee/fB5mvdy" target="_blank" class="block w-full py-4 bg-[#06C755] text-white rounded-xl font-bold shadow-lg shadow-green-100 hover:shadow-green-200 transition-all transform hover:-translate-y-1">
                           <i class="fa-brands fa-line text-xl mr-2 align-middle"></i> ‡πÅ‡∏≠‡∏î‡πÑ‡∏•‡∏ô‡πå‡∏£‡∏±‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ü‡∏£‡∏µ
                        </a>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        // ==========================================
        // CONFIGURATION (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ!)
        // ==========================================
        // 1. ‡∏ô‡∏≥ Project URL ‡∏°‡∏≤‡πÉ‡∏™‡πà‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏≥‡∏û‡∏π‡∏î
        const SUPABASE_URL = 'https://qzqvwbucjxwgtmbdkrlu.supabase.co'; 
        
        // 2. ‡∏ô‡∏≥ anon / public key ‡∏°‡∏≤‡πÉ‡∏™‡πà‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏≥‡∏û‡∏π‡∏î
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF6cXZ3YnVjanh3Z3RtYmRrcmx1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzNzgxODksImV4cCI6MjA4MDk1NDE4OX0.RYvc5kMueNhsOu---WOKcXYnOZLVnjiWklp1IiHmgS8';
        
        // Initialize Supabase (‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÉ‡∏™‡πà Key ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á)
        let supabaseClient = null;
        
        // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤ User ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤ Default ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
        const isConfigured = SUPABASE_URL !== 'YOUR_SUPABASE_URL_HERE' && SUPABASE_ANON_KEY !== 'YOUR_SUPABASE_ANON_KEY_HERE';

        if(isConfigured && window.supabase) {
            try {
                supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
                console.log("Supabase initialized successfully");
            } catch (e) {
                console.error("Supabase init error:", e);
            }
        }

        // ==========================================
        // UI UTILS (Toast)
        // ==========================================
        function showToast(message, type = 'success') {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            
            // Colors based on type for Light Mode
            let bgClass = type === 'success' ? 'bg-emerald-500' : 'bg-rose-500';
            let icon = type === 'success' ? '<i class="fa-solid fa-check-circle"></i>' : '<i class="fa-solid fa-circle-exclamation"></i>';

            toast.className = `toast flex items-center gap-3 p-4 mb-3 rounded-xl shadow-xl text-white ${bgClass} min-w-[300px] font-medium`;
            toast.innerHTML = `
                <div class="text-xl">${icon}</div>
                <div class="text-sm">${message}</div>
            `;

            container.appendChild(toast);

            // Trigger animation
            requestAnimationFrame(() => {
                toast.classList.add('show');
            });

            // Remove after 4s
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 300);
            }, 4000);
        }

        // ==========================================
        // DATA
        // ==========================================
        const questions = [
            {
                text: "‡∏Ñ‡∏∏‡∏ì‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏´‡∏á‡∏∏‡∏î‡∏´‡∏á‡∏¥‡∏î ‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏∑‡∏≠‡∏™‡∏±‡πà‡∏ô ‡∏´‡∏≤‡∏Å‡∏°‡∏∑‡πâ‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏•‡πà‡∏≤‡∏ä‡πâ‡∏≤‡πÄ‡∏Å‡∏¥‡∏ô 1-2 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?",
                icon: "fa-burger",
                color: "text-rose-500",
                options: [
                    { text: "‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡πà‡∏≠‡∏¢‡∏°‡∏≤‡∏Å (Hangry ‡∏™‡∏∏‡∏î‡πÜ)", value: 3 },
                    { text: "‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡πâ‡∏≤‡∏á ‡∏ö‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á", value: 1 },
                    { text: "‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏•‡∏¢ ‡∏™‡∏ö‡∏≤‡∏¢‡∏°‡∏≤‡∏Å", value: 0 }
                ]
            },
            {
                text: "‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏Å‡∏¥‡∏ô‡∏°‡∏∑‡πâ‡∏≠‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à ‡∏Ñ‡∏∏‡∏ì‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏á‡πà‡∏ß‡∏á‡∏ô‡∏≠‡∏ô‡∏´‡∏ô‡∏±‡∏Å‡∏°‡∏≤‡∏Å ‡∏à‡∏ô‡πÅ‡∏ó‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏´‡∏ß?",
                icon: "fa-bed",
                color: "text-amber-500",
                options: [
                    { text: "‡∏á‡πà‡∏ß‡∏á‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô ‡∏ï‡∏≤‡∏à‡∏∞‡∏õ‡∏¥‡∏î", value: 3 },
                    { text: "‡∏á‡πà‡∏ß‡∏á‡πÅ‡∏Ñ‡πà‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏¥‡∏ô‡πÅ‡∏õ‡πâ‡∏á‡πÄ‡∏¢‡∏≠‡∏∞", value: 1 },
                    { text: "‡∏ï‡∏∑‡πà‡∏ô‡∏ï‡∏±‡∏ß‡∏õ‡∏Å‡∏ï‡∏¥ ‡∏™‡∏î‡∏ä‡∏∑‡πà‡∏ô‡∏î‡∏µ", value: 0 }
                ]
            },
            {
                text: "‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏™‡∏∞‡∏™‡∏°‡∏ó‡∏µ‡πà '‡∏û‡∏∏‡∏á' ‡∏´‡∏£‡∏∑‡∏≠ '‡∏£‡∏≠‡∏ö‡πÄ‡∏≠‡∏ß' ‡∏ó‡∏µ‡πà‡∏•‡∏î‡∏¢‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡πÅ‡∏°‡πâ‡∏à‡∏∞‡∏Ñ‡∏∏‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πá‡∏ï‡∏≤‡∏°?",
                icon: "fa-weight-scale",
                color: "text-blue-500",
                options: [
                    { text: "‡πÉ‡∏ä‡πà! ‡∏û‡∏∏‡∏á‡∏õ‡πà‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏¢‡∏≠‡∏°‡∏¢‡∏∏‡∏ö", value: 3 },
                    { text: "‡∏°‡∏µ‡∏ö‡πâ‡∏≤‡∏á‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢", value: 1 },
                    { text: "‡πÑ‡∏°‡πà‡∏°‡∏µ ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡πâ‡∏≠‡∏á‡πÅ‡∏ö‡∏ô‡∏£‡∏≤‡∏ö", value: 0 }
                ]
            },
            {
                text: "‡∏ñ‡πâ‡∏≤‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏á‡∏î‡∏°‡∏∑‡πâ‡∏≠‡πÄ‡∏ä‡πâ‡∏≤ (Fast) ‡πÑ‡∏õ‡∏Å‡∏¥‡∏ô‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏•‡∏¢ ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏´‡∏ß‡πÑ‡∏´‡∏°?",
                icon: "fa-utensils",
                color: "text-emerald-500",
                options: [
                    { text: "‡πÑ‡∏°‡πà‡πÑ‡∏´‡∏ß ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏°", value: 3 },
                    { text: "‡∏û‡∏≠‡∏ó‡∏ô‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡∏´‡∏¥‡∏ß", value: 1 },
                    { text: "‡πÑ‡∏´‡∏ß‡∏™‡∏ö‡∏≤‡∏¢‡∏°‡∏≤‡∏Å ‡∏ä‡∏¥‡∏•‡πÜ", value: 0 }
                ]
            },
            {
                text: "‡∏Ñ‡∏∏‡∏ì‡∏°‡∏±‡∏Å‡∏à‡∏∞‡∏≠‡∏¢‡∏≤‡∏Å‡∏Å‡∏¥‡∏ô‡∏Ç‡∏≠‡∏á‡∏´‡∏ß‡∏≤‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏ô‡πâ‡∏≥‡∏´‡∏ß‡∏≤‡∏ô ‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏°‡∏∑‡πâ‡∏≠‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏™‡∏°‡∏≠?",
                icon: "fa-ice-cream",
                color: "text-purple-500",
                options: [
                    { text: "‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏¥‡∏ô ‡πÑ‡∏°‡πà‡∏á‡∏±‡πâ‡∏ô‡πÑ‡∏°‡πà‡∏à‡∏ö", value: 3 },
                    { text: "‡∏≠‡∏¢‡∏≤‡∏Å‡∏ö‡πâ‡∏≤‡∏á ‡∏ô‡∏≤‡∏ô‡πÜ ‡∏ó‡∏µ", value: 1 },
                    { text: "‡πÑ‡∏°‡πà‡∏Ñ‡πà‡∏≠‡∏¢‡∏≠‡∏¢‡∏≤‡∏Å", value: 0 }
                ]
            }
        ];

        let currentQIndex = 0;
        let totalScore = 0;

        // ==========================================
        // APP LOGIC
        // ==========================================
        
        function showStep(stepId) {
            document.querySelectorAll('#app > div').forEach(el => el.classList.add('hidden'));
            document.getElementById(`step-${stepId}`).classList.remove('hidden');
        }

        function startQuiz() {
            showStep('quiz');
            renderQuestion();
        }

        function renderQuestion() {
            const q = questions[currentQIndex];
            
            // Update Text & Icon
            document.getElementById('q-text').innerText = q.text;
            document.getElementById('q-icon').innerHTML = `<i class="fa-solid ${q.icon} ${q.color}"></i>`;
            document.getElementById('question-count').innerText = `Question ${currentQIndex + 1} of ${questions.length}`;
            
            // Update Progress Bar
            const progress = ((currentQIndex) / questions.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;

            // Render Options
            const container = document.getElementById('options-container');
            container.innerHTML = '';
            
            q.options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = "w-full p-4 rounded-xl bg-white border-2 border-slate-100 hover:border-cyan-400 hover:shadow-lg hover:shadow-cyan-50 transition-all duration-200 text-left flex items-center justify-between group";
                btn.innerHTML = `
                    <span class="text-slate-600 font-medium group-hover:text-slate-900">${opt.text}</span>
                    <div class="w-5 h-5 rounded-full border-2 border-slate-300 group-hover:border-cyan-400 flex items-center justify-center">
                        <div class="w-2.5 h-2.5 bg-cyan-400 rounded-full opacity-0 group-hover:opacity-100 transition-opacity"></div>
                    </div>
                `;
                btn.onclick = () => handleAnswer(opt.value);
                container.appendChild(btn);
            });
        }

        function handleAnswer(value) {
            totalScore += value;
            currentQIndex++;

            if (currentQIndex < questions.length) {
                renderQuestion();
            } else {
                document.getElementById('progress-bar').style.width = `100%`;
                setTimeout(() => {
                    startAnalyzing();
                }, 300);
            }
        }

        function startAnalyzing() {
            showStep('analyzing');
            
            // Fake loading sequence
            setTimeout(() => {
                document.querySelector('.typing-effect').innerText = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô...";
            }, 1500);
            
            setTimeout(() => {
                showStep('capture');
            }, 3000);
        }

        // ==========================================
        // SUBMIT FORM & SUPABASE
        // ==========================================
        document.getElementById('lead-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = document.getElementById('submit-btn');
            
            btn.disabled = true;
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Saving...';

            const name = document.getElementById('input-name').value;
            const contact = document.getElementById('input-contact').value;
            const resultData = calculateResult(totalScore);

            // SAVE TO SUPABASE
            if (supabaseClient) {
                try {
                    const { data, error } = await supabaseClient
                        .from('metabolic_leads')
                        .insert({ 
                            name: name, 
                            contact: contact, 
                            score: totalScore,
                            result_level: resultData.level
                        })
                        .select(); 

                    if (error) {
                        throw error;
                    }
                    console.log("Lead Saved Successfully:", data);
                    // showToast("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå...", "success");
                } catch (error) {
                    console.error("Error saving lead:", error);
                    // ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö Error RLS (42501)
                    if (error.code === '42501') {
                         showToast("‚ö†Ô∏è ‡∏ï‡∏¥‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå RLS: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å (‡πÅ‡∏ï‡πà‡∏î‡∏π‡∏ú‡∏•‡πÑ‡∏î‡πâ)", "error");
                         console.warn("Please run the SQL Policy to fix this error.");
                    } else {
                         showToast("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•", "error");
                    }
                }
            } else {
                console.warn("Supabase keys not set.");
                showToast("Demo Mode: ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•", "error");
            }

            // Show Result (Even if save fails, show result so user isn't stuck)
            setTimeout(() => {
                renderResult(resultData);
                showStep('result');
            }, 1000);
        });

        function calculateResult(score) {
            if (score >= 10) {
                return {
                    level: "CRITICAL LOCK üö®",
                    title: "‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ú‡∏≤‡∏ú‡∏•‡∏≤‡∏ç‡∏ñ‡∏π‡∏Å '‡∏•‡πá‡∏≠‡∏Å'!",
                    desc: "‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô (Metabolic Inflexibility) ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏´‡∏ô‡∏±‡∏Å ‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏¥‡∏î‡∏Å‡∏±‡∏ö‡∏î‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏î‡∏∂‡∏á‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ (Insulin Resistance ‡∏™‡∏π‡∏á)",
                    colorClass: "from-red-500 to-rose-600",
                    bgClass: "bg-white"
                };
            } else if (score >= 5) {
                return {
                    level: "WARNING ZONE ‚ö†Ô∏è",
                    title: "‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡∏¥‡∏î‡∏Ç‡∏±‡∏î! ‡πÑ‡∏°‡πà‡∏•‡∏∑‡πà‡∏ô‡πÑ‡∏´‡∏•",
                    desc: "‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏†‡∏≤‡∏ß‡∏∞‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á ‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏à‡∏∞‡πÄ‡∏ú‡∏≤‡πÑ‡∏Ç‡∏°‡∏±‡∏ô‡πÅ‡∏ï‡πà‡∏≠‡∏¥‡∏ô‡∏ã‡∏π‡∏•‡∏¥‡∏ô‡∏¢‡∏±‡∏á‡∏Ñ‡πâ‡∏≤‡∏á‡∏™‡∏π‡∏á‡πÉ‡∏ô‡∏ö‡∏≤‡∏á‡∏ä‡πà‡∏ß‡∏á (Randle Effect ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå) ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏•‡∏î‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏¢‡∏≤‡∏Å",
                    colorClass: "from-orange-400 to-amber-500",
                    bgClass: "bg-white"
                };
            } else {
                return {
                    level: "FLEXIBLE MODE ‚úÖ",
                    title: "‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°! ‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏î‡∏µ",
                    desc: "‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡∏Ñ‡∏∏‡∏ì‡∏™‡∏•‡∏±‡∏ö‡πÇ‡∏´‡∏°‡∏î‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ (Good Flexibility) ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏•‡∏µ‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πâ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏Ç‡∏±‡∏¢ ‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ Advance ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÉ‡∏´‡πâ",
                    colorClass: "from-emerald-400 to-green-600",
                    bgClass: "bg-white"
                };
            }
        }

        function renderResult(data) {
            // Update Badge
            document.getElementById('result-badge-color').className = `text-xs font-bold tracking-widest uppercase bg-clip-text text-transparent bg-gradient-to-r ${data.colorClass}`;
            document.getElementById('result-badge-color').innerText = data.level;

            // Update Title & Desc
            document.getElementById('result-title').innerText = data.title;
            document.getElementById('result-desc').innerText = data.desc;
            
            // Update Card Gradient (Keep it dark for contrast or change to light?)
            // For this design, let's keep the result header distinct but maybe cleaner
            document.getElementById('result-card-bg').className = `rounded-3xl shadow-xl overflow-hidden relative text-white`;
            document.querySelector('#result-card-bg > div').className = `bg-gradient-to-br ${data.colorClass} p-8 text-center space-y-4 h-full relative z-10`;

            // Score Bar
            document.getElementById('result-score-bar').className = `h-full rounded-full transition-all duration-1000 shadow-lg relative bg-white/30 backdrop-blur-md`;
            
            setTimeout(() => {
                const percentage = (totalScore / 15) * 100;
                document.getElementById('result-score-bar').style.width = `${percentage}%`;
            }, 500);
        }

        function revealTips() {
            document.getElementById('locked-content').classList.add('hidden');
            document.getElementById('unlocked-content').classList.remove('hidden');
        }

    </script>
</body>
</html>
